#!/bin/sh

# Get current branch name
branch=$(git rev-parse --abbrev-ref HEAD)

# Block direct pushes to main
if [ "$branch" = "main" ]; then
  echo ""
  echo "❌ 错误: 禁止直接推送到 main 分支"
  echo ""
  echo "请使用以下流程:"
  echo "  1. git checkout dev"
  echo "  2. 在 dev 分支上开发"
  echo "  3. 通过 Pull Request 合并到 main"
  echo ""
  exit 1
fi
